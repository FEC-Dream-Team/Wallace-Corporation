(self.webpackChunkwallace_corporation=self.webpackChunkwallace_corporation||[]).push([[197],{7615:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(7294),a=r(5430);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const l=function(e){var t,r,l=e.photo,i=(t=(0,n.useState)(!1),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(a)throw o}}return r}}(t,r)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=i[0],u=i[1];return l?n.createElement("span",{className:c?a.Z.overlayPhoto:""},c?n.createElement("img",{role:"presentation",src:l.url?l.url:l,alt:"review",className:a.Z.photo,onClick:function(){return u(!c)},onKeyDown:function(){return u(!c)}}):n.createElement("img",{role:"presentation",src:l.url?l.url:l,alt:"review",className:a.Z.imgThumbnail,onClick:function(){return u(!c)},onKeyDown:function(){return u(!c)}})):null}},2529:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var n=r(7294),a=r(5430),o=r(9669),l=r.n(o),i=r(7248);const c={body:'<path class="clr-i-solid clr-i-solid-path-1" d="M5.92 2a1 1 0 0 0-1 1v30a1 1 0 0 0 2 0V3a1 1 0 0 0-1-1z" fill="currentColor"/><path class="clr-i-solid clr-i-solid-path-2" d="M30.5 3.82a1 1 0 0 0-1 0a14.9 14.9 0 0 1-6.13 1.16a13.11 13.11 0 0 1-5.18-1.49A12.78 12.78 0 0 0 13.2 2a10.86 10.86 0 0 0-4.2.85V20a8.8 8.8 0 0 1 4.25-1.08a11.22 11.22 0 0 1 4.2 1.28a14.84 14.84 0 0 0 6 1.66a16.79 16.79 0 0 0 7-1.37a1 1 0 0 0 .55-.89V4.67a1 1 0 0 0-.5-.85z" fill="currentColor"/>',width:36,height:36};function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(a)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const m=function(e){var t=e.helpfulness,r=u((0,n.useState)(t),2),o=r[0],s=r[1],m=u((0,n.useState)("Report"),2),f=m[0],p=m[1],d=u((0,n.useState)(!1),2),y=d[0],h=d[1];return n.createElement("div",{className:a.Z.helpful},n.createElement("div",{"data-testid":"helpfulText",className:a.Z.helpful},"Was this helpful?"),n.createElement("button",{"data-testid":"helpful-button",type:"submit",onClick:function(r){if(s(t+1),e.review_id){var n=e.review_id;l().put("/reviews/".concat(n,"/helpful")).then((function(e){return console.log(e.status)})).catch((function(e){return console.log(e)}))}else if(e.question_id){var a=e.question_id;l().put("/qa/questions/".concat(a,"/helpful")).then((function(e){return console.log(e.status)})).catch((function(e){return console.log(e)}))}else if(e.answer_id){var o=e.answer_id;l().put("/qa/answers/".concat(o,"/helpful")).then((function(e){return console.log(e.status)})).catch((function(e){return console.log(e)}))}},className:a.Z.helpfulButton,value:"yes"},"Yes"),n.createElement("div",{"data-testid":"helpful-count",className:"".concat(a.Z.helpful," ").concat(a.Z.helpfulCount)},"(",o,")"," "),n.createElement("button",{"data-testid":"report-button",className:y?a.Z.reportedTrue:a.Z.reported,onClick:function(){p("Reported"),h(!0),e.answer_id?l().put("/qa/answers/".concat(e.answer_id,"/report")).then((function(){return console.log(status.status)})).catch(console.log):e.review_id?l().put("/reviews/".concat(e.review_id,"/report")).then((function(){return console.log(status.status)})).catch(console.log):l().put("/qa/questions/".concat(e.question_id,"/report")).then((function(){return console.log(status.status)})).catch(console.log)},type:"submit"},f),y?n.createElement(i.JO,{className:a.Z.flag,icon:c}):null)}},3197:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>F});var n=r(7294),a=r(9669),o=r.n(a),l=r(1414),i=r(5981),c=r(2529),u=r(7615);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var m=function(e){var t=e.rating/5*100,r=Math.round(5*t)/5;return n.createElement("div",{className:i.Z.starRating,style:{justifyContent:"left"}},n.createElement("div",{className:i.Z.starRatingTop,style:{width:r}},n.createElement("span",null,"★"),n.createElement("span",null,"★"),n.createElement("span",null,"★"),n.createElement("span",null,"★"),n.createElement("span",null,"★")),n.createElement("div",{className:i.Z.starRatingBottom},n.createElement("span",null,"★"),n.createElement("span",null,"★"),n.createElement("span",null,"★"),n.createElement("span",null,"★"),n.createElement("span",null,"★")))},f=function(e){var t=e.review,r=function(e){var t=e.slice(0,e.indexOf("T")).split("-"),r=t.shift();return t.push(r),t.join("-")}(t.date);return n.createElement("div",null,n.createElement("span",{style:{fontSize:10,fontStyle:"italic"}},"✓ Verified Purchaser"),n.createElement("div",{className:i.Z.userDateBar},t.reviewer_name),n.createElement("div",{className:i.Z.userDateBar},r))};const p=function(e){var t,r,a=e.review,o=(t=(0,n.useState)(!1),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(a)throw o}}return r}}(t,r)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return o[0],o[1],n.createElement("div",null,n.createElement("div",{className:i.Z.reviewTemplate},n.createElement(m,{rating:a.rating}),n.createElement("div",{className:i.Z.templateSummary},a.summary),n.createElement("div",{className:i.Z.templateBody},a.body),n.createElement("div",{className:i.Z.templateUserDateBar},n.createElement(f,{review:a})),n.createElement("div",{className:i.Z.templateHelpfulReportBar},n.createElement(c.Z,{review_id:a.review_id,helpfulness:a.helpfulness})),a.response&&"null"!==a.response?n.createElement("div",{className:i.Z.templateResponseFromSeller},a.response):null,n.createElement("div",{className:i.Z.templateImages},a.photos.map((function(e,t){return n.createElement(u.Z,{photo:e,key:t})}))),a.recommend?n.createElement("div",{className:i.Z.templateRecommendsBar},"✓ Yes, I recommend this product"):null))};var d=r(5430);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const g=function(e){var t,r,a=e.characteristics,o=e.charObject,l=e.setReview,i=e.review,c=(t=(0,n.useState)({}),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(a)throw o}}return r}}(t,r)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=c[0],s=(c[1],function(e){var t=e.target.value.split("-"),r=t[0],n=t[1],a=u;a[n]=Number(r),l(h(h({},i),{},{characteristics:a}))});return a?Object.entries(a).map((function(e){return n.createElement("div",{key:e[1].id,onChange:s},n.createElement("p",{style:{fontWeight:"bolder"}},e[0]," *"),n.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},n.createElement("div",{style:{display:"grid",gridTemplateRows:"auto auto"}},n.createElement("label",{style:{gridRow:"2/3"},htmlFor:"one"},o[e[0]][1]),n.createElement("input",{type:"radio",name:e[0],value:"1-".concat(e[1].id),style:{gridRow:"1/2"}})),n.createElement("div",{style:{display:"grid",gridTemplateRows:"auto auto",justifyContent:"center"}},n.createElement("label",{style:{gridRow:"2/3"},htmlFor:"two"},o[e[0]][2]),n.createElement("input",{type:"radio",name:e[0],value:"2-".concat(e[1].id),style:{gridRow:"1/2"}})),n.createElement("div",{style:{display:"grid",gridTemplateRows:"auto auto",justifyContent:"center"}},n.createElement("label",{style:{gridRow:"2/3"},htmlFor:"three"},o[e[0]][3]),n.createElement("input",{type:"radio",name:e[0],value:"3-".concat(e[1].id),style:{gridRow:"1/2"}})),n.createElement("div",{style:{display:"grid",gridTemplateRows:"auto auto",justifyContent:"center"}},n.createElement("label",{style:{gridRow:"2/3"},htmlFor:"four"},o[e[0]][4]),n.createElement("input",{type:"radio",name:e[0],value:"4-".concat(e[1].id),style:{gridRow:"1/2"}})),n.createElement("div",{style:{display:"grid",gridTemplateRows:"auto auto",justifyContent:"center"}},n.createElement("label",{style:{gridRow:"2/3"},htmlFor:"five"},o[e[0]][5]),n.createElement("input",{type:"radio",name:e[0],value:"5-".concat(e[1].id),style:{gridRow:"1/2"}}))))})):null};function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){S(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(a)throw o}}return r}}(e,t)||j(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){if(e){if("string"==typeof e)return R(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?R(e,t):void 0}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const A=function(e){var t,r=e.review,a=e.setReview,o=O((0,n.useState)(0),2),l=o[0],c=o[1],u=O((0,n.useState)(0),2),s=u[0],m=u[1],f=O((0,n.useState)(""),2),p=f[0],d=f[1],y={1:"Poor",2:"Fair",3:"Average",4:"Good",5:"Great"};return n.createElement("div",{required:"required"},(t=Array(5),function(e){if(Array.isArray(e))return R(e)}(t)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(t)||j(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e,t){return t+=1,n.createElement("button",{type:"button",key:t,className:"".concat(t<=(s||l)?i.Z.on:i.Z.off," ").concat(i.Z.button),onClick:function(){c(t),function(e){d(y[e])}(t)},onMouseEnter:function(){c(l),a(E(E({},r),{},{rating:t}))},onMouseLeave:function(){return m(l)}},n.createElement("span",null,"★"))})),n.createElement("p",{style:{margin:"5px",fontSize:"12px",fontStyle:"italic"}},p))};function Z(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||I(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(a)throw o}}return r}}(e,t)||I(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){if(e){if("string"==typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const T=function(e){var t=e.productId,r=e.onClose,a=e.open,l=e.getReviews,c=e.name,u=e.metaReviews,s=e.charObject,m=x((0,n.useState)({product_id:t,rating:0,summary:"",body:"",recommend:"",name:"",email:"",photos:[],characteristics:{}}),2),f=m[0],p=m[1],y=x((0,n.useState)([]),2),h=y[0],v=y[1],b=x((0,n.useState)(""),2),w=(b[0],b[1]),E=x((0,n.useState)(50),2),S=E[0],O=E[1],j=RegExp(/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i);return u&&f&&f.photos?n.createElement(n.Fragment,null,n.createElement("div",{style:{maxHeight:"100%"},role:"presentation",onClick:function(){r(),clearForm()},className:a?d.Z.overlay:""}),n.createElement("div",{style:{transform:a?"translate(-50%, -50%)":"translate(-50%, -150vh)"},className:d.Z.modal},n.createElement("div",{className:d.Z.modalHeader},n.createElement("h3",null,"Write Your Review"),n.createElement("h4",null,"About the ",c,"..."),n.createElement("p",{role:"presentation",className:d.Z.closeModal,onClick:function(){r()}},"x")),n.createElement("div",{className:d.Z.modalBody},n.createElement("form",{onSubmit:function(e){!function(e){e.preventDefault();var n=P({},f),a=[];console.log(n),j.test(n.email)?n.photos.map((function(e){if(e.size>1e5)w("*The images selected are invalid or unable to be uploaded.");else{var i,c={name:e.name,data:""},u=(i=e,new Promise((function(e,t){var r=new FileReader;r.readAsDataURL(i),r.onload=function(){return e(r.result)},r.onerror=function(e){return t(e)}}))).then((function(e){return c.data=e.split(",")[1]})).then((function(){return o().post("/upload_images",c)})).then((function(e){return e.data})).catch(console.log);a.push(u),Promise.all(a).then((function(e){n.photos=e})).then((function(){return o().post("/reviews",n)})).then((function(){return l(t)})).then((function(){return r()})).catch(console.log)}})):w("*You must enter a valid email")}(e)},action:"",encType:"multipart/form-data",style:{fontSize:"14px"}},n.createElement("p",{style:{margin:"5px"}},"Overall Rating: *"),n.createElement("span",{className:i.Z.starRating},n.createElement(A,{review:f,setReview:p})),n.createElement("p",null,"Would you recommend this product? *"),n.createElement("div",null,n.createElement("input",{type:"radio",id:"Yes",name:"recommend",onClick:function(){return p(P(P({},f),{},{recommend:!0}))}}),n.createElement("label",{htmlFor:"Yes"},"Yes"),n.createElement("input",{type:"radio",id:"No",name:"recommend",onClick:function(){return p(P(P({},f),{},{recommend:!1}))}}),n.createElement("label",{htmlFor:"No"},"No")),n.createElement(g,{characteristics:u.characteristics,charObject:s,setReview:p,review:f}),n.createElement("p",null,"Review Title:"),n.createElement("input",{onChange:function(e){return p(P(P({},f),{},{summary:e.target.value}))},className:i.Z.modalInput,maxLength:"60",placeholder:"Example: Best purchase ever!",type:"text"}),n.createElement("p",null,"Review Body: *"),n.createElement("textarea",{required:"required",onChange:function(e){p(P(P({},f),{},{body:e.target.value})),function(e){var t=e.target.value;O(50-t.length)}(e)},minLength:"50",maxLength:"1000",className:d.Z.qInput,placeholder:"Why did you like the product or not?",type:"text"}),n.createElement("p",{style:{margin:"5px",fontSize:"12px",fontStyle:"italic"}},S<=0?"Minimum Characters Reached":"Minimum required characters left: ".concat(S)),n.createElement("p",null,"What is your nickname? *"),n.createElement("input",{required:"required",onChange:function(e){return p(P(P({},f),{},{name:e.target.value}))},className:i.Z.modalInput,maxLength:"60",type:"text",placeholder:"Example: jackson11!"}),n.createElement("p",{className:d.Z.finePrint},f.name.length>0?"For privacy reasons, do not use your full name or email address":""),n.createElement("p",null,"What is your email? *"),n.createElement("input",{required:"required",onChange:function(e){return p(P(P({},f),{},{email:e.target.value}))},className:i.Z.modalInput,maxLength:"60",type:"text",placeholder:"Example: jackson11@email.com"}),n.createElement("p",{className:d.Z.finePrint},f.email.length>0?"For authentication reasons, you will not be emailed":""),n.createElement("div",null),n.createElement("div",null,f.photos.length<5?n.createElement("input",{value:"",onChange:function(e){f.photos.length<5&&(p(P(P({},f),{},{photos:[].concat(Z(f.photos),[e.target.files[0]])})),v([].concat(Z(h),[URL.createObjectURL(e.target.files[0])])))},type:"file"}):null,h.map((function(e){return n.createElement("img",{alt:e,key:e,className:"".concat(i.Z.imgThumbnail," ").concat(i.Z.reviewPhoto),src:e})}))),n.createElement("p",{style:{margin:"5px",fontSize:"12px",fontStyle:"italic"}},"* Mandatory Fields"),n.createElement("button",{type:"submit",className:d.Z.modalButton},"Submit Review"))))):null};function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(a)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?D(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r(9698);const F=function(e){var t=e.productId,r=e.name,a=e.handleReviewAverage,c=q((0,n.useState)([]),2),u=c[0],s=c[1],m=q((0,n.useState)([]),2),f=m[0],d=m[1],y=q((0,n.useState)([]),2),h=y[0],v=y[1],b=q((0,n.useState)(!1),2),g=b[0],w=b[1],E=q((0,n.useState)(!1),2),S=E[0],O=E[1],j=q((0,n.useState)("relevant"),2),R=j[0],A=j[1],Z=q((0,n.useState)("More Reviews"),2),N=Z[0],P=Z[1],C={Size:{1:"A size too small",2:"1/2 a size too small",3:"Perfect",4:"1/2 a size too big",5:"A size too wide"},Width:{1:"Too narrow",2:"Slightly narrow",3:"Perfect",4:"Slightly wide",5:"Too wide"},Comfort:{1:"Uncomfortable",2:"Slightly uncomfortable",3:"Ok",4:"Comfortable",5:"Perfect"},Quality:{1:"Poor",2:"Below average",3:"What I expected",4:"Pretty great",5:"Perfect"},Length:{1:"Runs short",2:"Runs slightly short",3:"Perfect",4:"Runs slightly long",5:"Runs long"},Fit:{1:"Runs tight",2:"Runs slightly tight",3:"Perfect",4:"Runs slightly long",5:"Runs long"}},x=function(e){var t="/reviews/sort/".concat(e,"/").concat(R);o().get(t).then((function(e){var t=e.data;s(t),d(S?t:t.slice(0,2))})).catch(console.log)};return(0,n.useEffect)((function(){x(20103),O(S)}),[R]),(0,n.useEffect)((function(){var e;e="/reviews/meta/".concat(20103),o().get(e).then((function(e){var t=e.data;v(t)})).catch((function(e){return console.log(e)})),x(20103)}),[t]),(0,n.useEffect)((function(){d(S?u:u.slice(0,2))}),[S]),(0,n.useEffect)((function(){f.length<=2?P("More Reviews"):P("Show Less Reviews")}),[f]),h&&u&&t?n.createElement("div",{className:i.Z.parentContainer},n.createElement("div",{className:i.Z.parentBreakdown},n.createElement(l.Z,{reviews:u,metaReviews:h,handleStarFilters:function(e){var t=[];0===e.length?d(u.slice(0,2)):(e.map((function(e){u.filter((function(r){r.rating===Number(e)&&t.push(r)}))})),d(t))},handleReviewAverage:a,charObject:C})),n.createElement("div",{className:i.Z.parentHeader,style:{display:"flex"}},n.createElement("div",{style:{alignSelf:"center",paddingLeft:"20px"}},"Sort on:",n.createElement("select",{onChange:function(e){return A(e.target.value)}},n.createElement("option",null,"Relevant"),n.createElement("option",null,"Helpful"),n.createElement("option",null,"Newest")))),n.createElement("div",{style:{maxHeight:"800px",overflowY:"scroll"},className:i.Z.parentIndividualReview},f.map((function(e,t){return n.createElement(p,{review:e,key:t})}))),n.createElement("div",{className:i.Z.parentFooter},u.length>1?n.createElement("button",{className:i.Z.footerButton,type:"submit",onClick:function(){O(!S)}},N):null,n.createElement("button",{className:i.Z.footerButton,type:"submit",onClick:function(){return w(!0)}},"Add Review  + "),n.createElement(T,{productId:t,getReviews:x,onClose:function(){return w(!1)},open:g,name:r,metaReviews:h,charObject:C}))):null}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93YWxsYWNlLWNvcnBvcmF0aW9uLy4vY2xpZW50L3NyYy9jb21wb25lbnRzL0V4cGFuZGVkUGhvdG9zLmpzeCIsIndlYnBhY2s6Ly93YWxsYWNlLWNvcnBvcmF0aW9uLy4vbm9kZV9tb2R1bGVzL0BpY29uaWZ5LWljb25zL2NsYXJpdHkvZmxhZy1zb2xpZC5qcyIsIndlYnBhY2s6Ly93YWxsYWNlLWNvcnBvcmF0aW9uLy4vY2xpZW50L3NyYy9jb21wb25lbnRzL0hlbHBmdWwuanN4Iiwid2VicGFjazovL3dhbGxhY2UtY29ycG9yYXRpb24vLi9jbGllbnQvc3JjL2NvbXBvbmVudHMvcmV2aWV3cy9SZXZpZXdUZW1wbGF0ZS5qc3giLCJ3ZWJwYWNrOi8vd2FsbGFjZS1jb3Jwb3JhdGlvbi8uL2NsaWVudC9zcmMvY29tcG9uZW50cy9yZXZpZXdzL0NoYXJhY3RlcmlzdGljcy5qc3giLCJ3ZWJwYWNrOi8vd2FsbGFjZS1jb3Jwb3JhdGlvbi8uL2NsaWVudC9zcmMvY29tcG9uZW50cy9yZXZpZXdzL0ludGVyYWN0aXZlU3RhcnMuanN4Iiwid2VicGFjazovL3dhbGxhY2UtY29ycG9yYXRpb24vLi9jbGllbnQvc3JjL2NvbXBvbmVudHMvcmV2aWV3cy9SZXZpZXdNb2RhbC5qc3giLCJ3ZWJwYWNrOi8vd2FsbGFjZS1jb3Jwb3JhdGlvbi8uL2NsaWVudC9zcmMvY29tcG9uZW50cy9yZXZpZXdzL1Jldmlld3MuanN4Il0sIm5hbWVzIjpbInBob3RvIiwidXNlU3RhdGUiLCJleHBhbmRlZCIsInNldEV4cGFuZGVkIiwiY2xhc3NOYW1lIiwic3R5bGVzIiwicm9sZSIsInNyYyIsInVybCIsImFsdCIsIm9uQ2xpY2siLCJvbktleURvd24iLCJwcm9wcyIsImhlbHBmdWxuZXNzIiwiY291bnQiLCJzZXRDb3VudCIsInJlcG9ydGVkIiwic2V0UmVwb3J0ZWQiLCJpc1JlcG9ydGVkIiwic2V0SXNSZXBvcnRlZCIsImRhdGEtdGVzdGlkIiwidHlwZSIsImUiLCJyZXZpZXdfaWQiLCJheGlvcyIsInRoZW4iLCJzdGF0dXMiLCJjb25zb2xlIiwibG9nIiwiZXJyIiwicXVlc3Rpb25faWQiLCJhbnN3ZXJfaWQiLCJ2YWx1ZSIsImljb24iLCJmbGFnU29saWQiLCJTdGFyUmF0aW5nIiwic3RhclBlcmNlbnRhZ2UiLCJyYXRpbmciLCJyb3VuZGVkUGVyY2VudGFnZSIsIk1hdGgiLCJyb3VuZCIsInN0eWxlIiwianVzdGlmeUNvbnRlbnQiLCJ3aWR0aCIsIlVzZXJEYXRlQmFyIiwicmV2aWV3IiwiZGF0ZSIsImRhdGVBcnIiLCJzbGljZSIsImluZGV4T2YiLCJzcGxpdCIsInllYXIiLCJzaGlmdCIsInB1c2giLCJqb2luIiwiZ2V0RGF0ZSIsImZvbnRTaXplIiwiZm9udFN0eWxlIiwicmV2aWV3ZXJfbmFtZSIsInN1bW1hcnkiLCJib2R5IiwiSGVscGZ1bCIsInJlc3BvbnNlIiwicGhvdG9zIiwibWFwIiwiaWQiLCJFeHBhbmRlZFBob3RvcyIsImtleSIsInJlY29tbWVuZCIsImNoYXJhY3RlcmlzdGljcyIsImNoYXJPYmplY3QiLCJzZXRSZXZpZXciLCJjaGFycyIsImhhbmRsZUNoYXJhY3RlcmlzdGljcyIsImFyciIsInRhcmdldCIsIm5ld0NoYXJhY3RlcmlzdGljcyIsIk51bWJlciIsIk9iamVjdCIsImVudHJpZXMiLCJ4Iiwib25DaGFuZ2UiLCJmb250V2VpZ2h0IiwiZGlzcGxheSIsImdyaWRUZW1wbGF0ZVJvd3MiLCJncmlkUm93IiwiaHRtbEZvciIsIm5hbWUiLCJzZXRSYXRpbmciLCJob3ZlciIsInNldEhvdmVyIiwic2V0VmFsdWUiLCJkZXNjcmlwdGlvbk9iaiIsIjEiLCIyIiwiMyIsIjQiLCI1IiwicmVxdWlyZWQiLCJBcnJheSIsInN0YXIiLCJpbmRleCIsImhhbmRsZVZhbHVlIiwib25Nb3VzZUVudGVyIiwib25Nb3VzZUxlYXZlIiwibWFyZ2luIiwicHJvZHVjdElkIiwib25DbG9zZSIsIm9wZW4iLCJnZXRSZXZpZXdzIiwibWV0YVJldmlld3MiLCJwcm9kdWN0X2lkIiwiZW1haWwiLCJ0aHVtYm5haWxzIiwic2V0VGh1bWJuYWlscyIsInNldEVycm9yIiwiY2hhcmFjdGVyQ291bnQiLCJzZXRDaGFyYWN0ZXJDb3VudCIsInZhbGlkRW1haWxSZWdleCIsIlJlZ0V4cCIsIm1heEhlaWdodCIsImNsZWFyRm9ybSIsInRyYW5zZm9ybSIsIm9uU3VibWl0IiwicHJldmVudERlZmF1bHQiLCJmaW5hbFJldmlldyIsInByb21pc2VzIiwidGVzdCIsInNpemUiLCJmaWxlIiwicGF5bG9hZCIsImRhdGEiLCJwcm9taXNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwicmVhZEFzRGF0YVVSTCIsIm9ubG9hZCIsInJlc3VsdCIsIm9uZXJyb3IiLCJlcnJvciIsImFsbCIsInJlc3VsdHMiLCJoYW5kbGVTdWJtaXQiLCJhY3Rpb24iLCJlbmNUeXBlIiwiUnN0eWxlcyIsIm1heExlbmd0aCIsInBsYWNlaG9sZGVyIiwibGVuZ3RoIiwiaGFuZGxlQ291bnRDaGFuZ2UiLCJtaW5MZW5ndGgiLCJmaWxlcyIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsImhhbmRsZVJldmlld0F2ZXJhZ2UiLCJyZXZpZXdzIiwic2V0UmV2aWV3cyIsImRpc3BsYXllZFJldmlld3MiLCJzZXREaXNwbGF5ZWRSZXZpZXdzIiwic2V0TWV0YVJldmlld3MiLCJpc09wZW4iLCJzZXRJc09wZW4iLCJzb3J0Iiwic2V0U29ydCIsIm1vcmVCdXR0b24iLCJzZXRNb3JlQnV0dG9uIiwiU2l6ZSIsIldpZHRoIiwiQ29tZm9ydCIsIlF1YWxpdHkiLCJMZW5ndGgiLCJGaXQiLCJyZXZpZXdzVVJMIiwidXNlRWZmZWN0IiwibWV0YVJldmlld3NVUkwiLCJSYXRpbmdCcmVha2Rvd24iLCJoYW5kbGVTdGFyRmlsdGVycyIsImZpbHRlcnMiLCJyZXZpZXdBcnJheSIsImZpbHRlciIsImFsaWduU2VsZiIsInBhZGRpbmdMZWZ0Iiwib3ZlcmZsb3dZIl0sIm1h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UW5LLFVBQVdDLGlCQUFxQmdCLEtBQUssU0FBU1gsUUFBUyxrQkFBTTBKLEdBQVUsS0FBL0Usa0JBQ0EsZ0JBQUMsRUFBRCxDQUNFMUQsVUFBV0EsRUFDWEcsV0FBWUEsRUFDWkYsUUFBUyxrQkFBTXlELEdBQVUsSUFDekJ4RCxLQUFNdUQsRUFDTjVFLEtBQU1BLEVBQ051QixZQUFhQSxFQUNieEMsV0FBWUEsTUFLbEIiLCJmaWxlIjoiMTk3LmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHN0eWxlcyBmcm9tICcuLi9zdHlsZUNvbXBvbmVudHMvQXBwLm1vZHVsZS5jc3MnO1xuXG5jb25zdCBFeHBhbmRlZFBob3RvcyA9ICh7IHBob3RvIH0pID0+IHtcbiAgY29uc3QgW2V4cGFuZGVkLCBzZXRFeHBhbmRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgcmV0dXJuIChcbiAgICBwaG90b1xuICAgICAgPyAoXG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT17ZXhwYW5kZWQgPyBzdHlsZXMub3ZlcmxheVBob3RvIDogJyd9PlxuICAgICAgICAgIHsoIWV4cGFuZGVkKVxuICAgICAgICAgICAgPyAoXG4gICAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgICByb2xlPVwicHJlc2VudGF0aW9uXCJcbiAgICAgICAgICAgICAgICBzcmM9e3Bob3RvLnVybCA/IHBob3RvLnVybCA6IHBob3RvfVxuICAgICAgICAgICAgICAgIGFsdD1cInJldmlld1wiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMuaW1nVGh1bWJuYWlsfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEV4cGFuZGVkKCFleHBhbmRlZCl9XG4gICAgICAgICAgICAgICAgb25LZXlEb3duPXsoKSA9PiBzZXRFeHBhbmRlZCghZXhwYW5kZWQpfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgOiAoXG4gICAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgICByb2xlPVwicHJlc2VudGF0aW9uXCJcbiAgICAgICAgICAgICAgICBzcmM9e3Bob3RvLnVybCA/IHBob3RvLnVybCA6IHBob3RvfVxuICAgICAgICAgICAgICAgIGFsdD1cInJldmlld1wiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMucGhvdG99XG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0RXhwYW5kZWQoIWV4cGFuZGVkKX1cbiAgICAgICAgICAgICAgICBvbktleURvd249eygpID0+IHNldEV4cGFuZGVkKCFleHBhbmRlZCl9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApfVxuICAgICAgICA8L3NwYW4+XG4gICAgICApXG4gICAgICA6IG51bGxcbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEV4cGFuZGVkUGhvdG9zO1xuIiwidmFyIGRhdGEgPSB7XG5cdFwiYm9keVwiOiBcIjxwYXRoIGNsYXNzPVxcXCJjbHItaS1zb2xpZCBjbHItaS1zb2xpZC1wYXRoLTFcXFwiIGQ9XFxcIk01LjkyIDJhMSAxIDAgMCAwLTEgMXYzMGExIDEgMCAwIDAgMiAwVjNhMSAxIDAgMCAwLTEtMXpcXFwiIGZpbGw9XFxcImN1cnJlbnRDb2xvclxcXCIvPjxwYXRoIGNsYXNzPVxcXCJjbHItaS1zb2xpZCBjbHItaS1zb2xpZC1wYXRoLTJcXFwiIGQ9XFxcIk0zMC41IDMuODJhMSAxIDAgMCAwLTEgMGExNC45IDE0LjkgMCAwIDEtNi4xMyAxLjE2YTEzLjExIDEzLjExIDAgMCAxLTUuMTgtMS40OUExMi43OCAxMi43OCAwIDAgMCAxMy4yIDJhMTAuODYgMTAuODYgMCAwIDAtNC4yLjg1VjIwYTguOCA4LjggMCAwIDEgNC4yNS0xLjA4YTExLjIyIDExLjIyIDAgMCAxIDQuMiAxLjI4YTE0Ljg0IDE0Ljg0IDAgMCAwIDYgMS42NmExNi43OSAxNi43OSAwIDAgMCA3LTEuMzdhMSAxIDAgMCAwIC41NS0uODlWNC42N2ExIDEgMCAwIDAtLjUtLjg1elxcXCIgZmlsbD1cXFwiY3VycmVudENvbG9yXFxcIi8+XCIsXG5cdFwid2lkdGhcIjogMzYsXG5cdFwiaGVpZ2h0XCI6IDM2XG59O1xuZXhwb3J0IGRlZmF1bHQgZGF0YTtcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBzdHlsZXMgZnJvbSAnLi4vc3R5bGVDb21wb25lbnRzL0FwcC5tb2R1bGUuY3NzJztcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5pbXBvcnQgeyBJY29uLCBJbmxpbmVJY29uIH0gZnJvbSAnQGljb25pZnkvcmVhY3QnO1xuaW1wb3J0IGZsYWdTb2xpZCBmcm9tICdAaWNvbmlmeS1pY29ucy9jbGFyaXR5L2ZsYWctc29saWQnO1xuXG5cbmNvbnN0IEhlbHBmdWwgPSAocHJvcHMpID0+IHtcbiAgY29uc3QgeyBoZWxwZnVsbmVzcyB9ID0gcHJvcHM7XG4gIGNvbnN0IFtjb3VudCwgc2V0Q291bnRdID0gdXNlU3RhdGUoaGVscGZ1bG5lc3MpO1xuICBjb25zdCBbcmVwb3J0ZWQsIHNldFJlcG9ydGVkXSA9IHVzZVN0YXRlKCdSZXBvcnQnKTtcbiAgY29uc3QgW2lzUmVwb3J0ZWQsIHNldElzUmVwb3J0ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIGNvbnN0IGhhbmRsZUNvdW50ID0gKGUpID0+IHtcbiAgICBzZXRDb3VudChoZWxwZnVsbmVzcyArIDEpO1xuXG4gICAgaWYgKHByb3BzLnJldmlld19pZCkge1xuICAgICAgY29uc3QgeyByZXZpZXdfaWQgfSA9IHByb3BzO1xuICAgICAgYXhpb3MucHV0KGAvcmV2aWV3cy8ke3Jldmlld19pZH0vaGVscGZ1bGApXG4gICAgICAgIC50aGVuKChzdGF0dXMpID0+IGNvbnNvbGUubG9nKHN0YXR1cy5zdGF0dXMpKVxuICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XG4gICAgfSBlbHNlIGlmIChwcm9wcy5xdWVzdGlvbl9pZCkge1xuICAgICAgY29uc3QgeyBxdWVzdGlvbl9pZCB9ID0gcHJvcHM7XG4gICAgICBheGlvcy5wdXQoYC9xYS9xdWVzdGlvbnMvJHtxdWVzdGlvbl9pZH0vaGVscGZ1bGApXG4gICAgICAgIC50aGVuKChzdGF0dXMpID0+IGNvbnNvbGUubG9nKHN0YXR1cy5zdGF0dXMpKVxuICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XG4gICAgfSBlbHNlIGlmIChwcm9wcy5hbnN3ZXJfaWQpIHtcbiAgICAgIGNvbnN0IHsgYW5zd2VyX2lkIH0gPSBwcm9wcztcbiAgICAgIGF4aW9zLnB1dChgL3FhL2Fuc3dlcnMvJHthbnN3ZXJfaWR9L2hlbHBmdWxgKVxuICAgICAgICAudGhlbigoc3RhdHVzKSA9PiBjb25zb2xlLmxvZyhzdGF0dXMuc3RhdHVzKSlcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCByZXBvcnQgPSAoKSA9PiB7XG4gICAgc2V0UmVwb3J0ZWQoJ1JlcG9ydGVkJyk7XG4gICAgc2V0SXNSZXBvcnRlZCh0cnVlKTtcbiAgICBpZiAocHJvcHMuYW5zd2VyX2lkKSB7XG4gICAgICBheGlvcy5wdXQoYC9xYS9hbnN3ZXJzLyR7cHJvcHMuYW5zd2VyX2lkfS9yZXBvcnRgKVxuICAgICAgICAudGhlbigoKSA9PiBjb25zb2xlLmxvZyhzdGF0dXMuc3RhdHVzKSlcbiAgICAgICAgLmNhdGNoKGNvbnNvbGUubG9nKTtcbiAgICB9IGVsc2UgaWYgKHByb3BzLnJldmlld19pZCkge1xuICAgICAgYXhpb3MucHV0KGAvcmV2aWV3cy8ke3Byb3BzLnJldmlld19pZH0vcmVwb3J0YClcbiAgICAgICAgLnRoZW4oKCkgPT4gY29uc29sZS5sb2coc3RhdHVzLnN0YXR1cykpXG4gICAgICAgIC5jYXRjaChjb25zb2xlLmxvZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGF4aW9zLnB1dChgL3FhL3F1ZXN0aW9ucy8ke3Byb3BzLnF1ZXN0aW9uX2lkfS9yZXBvcnRgKVxuICAgICAgICAudGhlbigoKSA9PiBjb25zb2xlLmxvZyhzdGF0dXMuc3RhdHVzKSlcbiAgICAgICAgLmNhdGNoKGNvbnNvbGUubG9nKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmhlbHBmdWx9PlxuICAgICAgPGRpdiBkYXRhLXRlc3RpZD1cImhlbHBmdWxUZXh0XCIgY2xhc3NOYW1lPXtzdHlsZXMuaGVscGZ1bH0+V2FzIHRoaXMgaGVscGZ1bD88L2Rpdj5cbiAgICAgIDxidXR0b24gZGF0YS10ZXN0aWQ9XCJoZWxwZnVsLWJ1dHRvblwiIHR5cGU9XCJzdWJtaXRcIiBvbkNsaWNrPXtoYW5kbGVDb3VudH0gY2xhc3NOYW1lPXtzdHlsZXMuaGVscGZ1bEJ1dHRvbn0gdmFsdWU9XCJ5ZXNcIj5ZZXM8L2J1dHRvbj5cbiAgICAgIDxkaXYgZGF0YS10ZXN0aWQ9XCJoZWxwZnVsLWNvdW50XCIgY2xhc3NOYW1lPXtgJHtzdHlsZXMuaGVscGZ1bH0gJHtzdHlsZXMuaGVscGZ1bENvdW50fWB9PlxuICAgICAgICAoXG4gICAgICAgIHtjb3VudH1cbiAgICAgICAgKVxuICAgICAgICB7JyAnfVxuICAgICAgPC9kaXY+XG4gICAgICA8YnV0dG9uIGRhdGEtdGVzdGlkPVwicmVwb3J0LWJ1dHRvblwiIGNsYXNzTmFtZT17aXNSZXBvcnRlZCA/IHN0eWxlcy5yZXBvcnRlZFRydWUgOiBzdHlsZXMucmVwb3J0ZWR9IG9uQ2xpY2s9e3JlcG9ydH0gdHlwZT1cInN1Ym1pdFwiPntyZXBvcnRlZH08L2J1dHRvbj5cbiAgICAgIHtpc1JlcG9ydGVkID8gPEljb24gY2xhc3NOYW1lPXtzdHlsZXMuZmxhZ30gaWNvbj17ZmxhZ1NvbGlkfSAvPiA6IG51bGx9XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBIZWxwZnVsO1xuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgc3R5bGVzIGZyb20gJy4uLy4uL3N0eWxlQ29tcG9uZW50cy9SZXZpZXdzLm1vZHVsZS5jc3MnO1xuaW1wb3J0IEhlbHBmdWwgZnJvbSAnLi4vSGVscGZ1bCc7XG5pbXBvcnQgRXhwYW5kZWRQaG90b3MgZnJvbSAnLi4vRXhwYW5kZWRQaG90b3MnO1xuXG5jb25zdCBSZXZpZXdUZW1wbGF0ZSA9ICh7IHJldmlldyB9KSA9PiB7XG4gIGNvbnN0IFtleHBhbmRlZCwgc2V0RXhwYW5kZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMucmV2aWV3VGVtcGxhdGV9PlxuICAgICAgICA8U3RhclJhdGluZyByYXRpbmc9e3Jldmlldy5yYXRpbmd9IC8+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMudGVtcGxhdGVTdW1tYXJ5fT57cmV2aWV3LnN1bW1hcnl9PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMudGVtcGxhdGVCb2R5fT57cmV2aWV3LmJvZHl9PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMudGVtcGxhdGVVc2VyRGF0ZUJhcn0+XG4gICAgICAgICAgPFVzZXJEYXRlQmFyIHJldmlldz17cmV2aWV3fSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy50ZW1wbGF0ZUhlbHBmdWxSZXBvcnRCYXJ9PlxuICAgICAgICAgIDxIZWxwZnVsIHJldmlld19pZD17cmV2aWV3LnJldmlld19pZH0gaGVscGZ1bG5lc3M9e3Jldmlldy5oZWxwZnVsbmVzc30gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHsocmV2aWV3LnJlc3BvbnNlICYmIHJldmlldy5yZXNwb25zZSAhPT0gJ251bGwnKVxuICAgICAgICAgID8gPGRpdiBjbGFzc05hbWU9e3N0eWxlcy50ZW1wbGF0ZVJlc3BvbnNlRnJvbVNlbGxlcn0+e3Jldmlldy5yZXNwb25zZX08L2Rpdj5cbiAgICAgICAgICA6IG51bGx9XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMudGVtcGxhdGVJbWFnZXN9PlxuICAgICAgICAgIHtyZXZpZXcucGhvdG9zLm1hcCgocGhvdG8sIGlkKSA9PiA8RXhwYW5kZWRQaG90b3MgcGhvdG89e3Bob3RvfSBrZXk9e2lkfSAvPil9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7KHJldmlldy5yZWNvbW1lbmQpXG4gICAgICAgICAgPyAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnRlbXBsYXRlUmVjb21tZW5kc0Jhcn0+XG4gICAgICAgICAgICAgICYjMTAwMDM7IFllcywgSSByZWNvbW1lbmQgdGhpcyBwcm9kdWN0XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApXG4gICAgICAgICAgOiBudWxsfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5jb25zdCBTdGFyUmF0aW5nID0gKHsgcmF0aW5nIH0pID0+IHtcbiAgY29uc3Qgc3RhclBlcmNlbnRhZ2UgPSAocmF0aW5nIC8gNSkgKiAxMDA7XG4gIGNvbnN0IHJvdW5kZWRQZXJjZW50YWdlID0gKE1hdGgucm91bmQoc3RhclBlcmNlbnRhZ2UgKiA1KSAvIDUpO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5zdGFyUmF0aW5nfSBzdHlsZT17eyBqdXN0aWZ5Q29udGVudDogJ2xlZnQnIH19PlxuICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5zdGFyUmF0aW5nVG9wfSBzdHlsZT17eyB3aWR0aDogcm91bmRlZFBlcmNlbnRhZ2UgfX0+XG4gICAgICAgIDxzcGFuPuKYhTwvc3Bhbj5cbiAgICAgICAgPHNwYW4+4piFPC9zcGFuPlxuICAgICAgICA8c3Bhbj7imIU8L3NwYW4+XG4gICAgICAgIDxzcGFuPuKYhTwvc3Bhbj5cbiAgICAgICAgPHNwYW4+4piFPC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnN0YXJSYXRpbmdCb3R0b219PlxuICAgICAgICA8c3Bhbj7imIU8L3NwYW4+XG4gICAgICAgIDxzcGFuPuKYhTwvc3Bhbj5cbiAgICAgICAgPHNwYW4+4piFPC9zcGFuPlxuICAgICAgICA8c3Bhbj7imIU8L3NwYW4+XG4gICAgICAgIDxzcGFuPuKYhTwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuY29uc3QgVXNlckRhdGVCYXIgPSAoeyByZXZpZXcgfSkgPT4ge1xuICBjb25zdCBnZXREYXRlID0gKGRhdGUpID0+IHtcbiAgICBjb25zdCBkYXRlQXJyID0gZGF0ZS5zbGljZSgwLCBkYXRlLmluZGV4T2YoJ1QnKSkuc3BsaXQoJy0nKTtcbiAgICBjb25zdCB5ZWFyID0gZGF0ZUFyci5zaGlmdCgpO1xuICAgIGRhdGVBcnIucHVzaCh5ZWFyKTtcbiAgICByZXR1cm4gZGF0ZUFyci5qb2luKCctJyk7XG4gIH07XG5cbiAgY29uc3QgZGF0ZSA9IGdldERhdGUocmV2aWV3LmRhdGUpO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdj5cbiAgICAgIDxzcGFuIHN0eWxlPXt7Zm9udFNpemU6IDEwLCBmb250U3R5bGU6ICdpdGFsaWMnfX0+JiMxMDAwMzsgVmVyaWZpZWQgUHVyY2hhc2VyPC9zcGFuPlxuICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy51c2VyRGF0ZUJhcn0+e3Jldmlldy5yZXZpZXdlcl9uYW1lfTwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy51c2VyRGF0ZUJhcn0+e2RhdGV9PC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuZXhwb3J0IGRlZmF1bHQgUmV2aWV3VGVtcGxhdGU7XG4iLCJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5cbmNvbnN0IENoYXJhY3RlcmlzdGljcyA9ICh7IGNoYXJhY3RlcmlzdGljcywgY2hhck9iamVjdCwgc2V0UmV2aWV3LCByZXZpZXcgfSkgPT4ge1xuICBjb25zdCBbY2hhcnMsIHNldENoYXJzXSA9IHVzZVN0YXRlKHt9KTtcblxuICBjb25zdCBoYW5kbGVDaGFyYWN0ZXJpc3RpY3MgPSAoZSkgPT4ge1xuICAgIGNvbnN0IHsgdmFsdWUgfSA9IGUudGFyZ2V0O1xuICAgIGNvbnN0IGFyciA9IHZhbHVlLnNwbGl0KCctJyk7XG4gICAgY29uc3QgcmF0aW5nID0gYXJyWzBdO1xuICAgIGNvbnN0IGlkID0gYXJyWzFdO1xuICAgIGNvbnN0IG5ld0NoYXJhY3RlcmlzdGljcyA9IGNoYXJzO1xuICAgIG5ld0NoYXJhY3RlcmlzdGljc1tpZF0gPSBOdW1iZXIocmF0aW5nKTtcbiAgICBzZXRSZXZpZXcoeyAuLi5yZXZpZXcsIGNoYXJhY3RlcmlzdGljczogbmV3Q2hhcmFjdGVyaXN0aWNzIH0pO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgKGNoYXJhY3RlcmlzdGljcylcbiAgICAgID8gT2JqZWN0LmVudHJpZXMoY2hhcmFjdGVyaXN0aWNzKS5tYXAoKHgpID0+IChcbiAgICAgICAgPGRpdiBrZXk9e3hbMV0uaWR9IG9uQ2hhbmdlPXtoYW5kbGVDaGFyYWN0ZXJpc3RpY3N9PlxuICAgICAgICAgIDxwIHN0eWxlPXt7IGZvbnRXZWlnaHQ6ICdib2xkZXInIH19Pnt4WzBdfSAqPC9wPlxuICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nIH19PlxuICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZ3JpZCcsIGdyaWRUZW1wbGF0ZVJvd3M6ICdhdXRvIGF1dG8nIH19PlxuICAgICAgICAgICAgICA8bGFiZWwgc3R5bGU9e3sgZ3JpZFJvdzogJzIvMycgfX0gaHRtbEZvcj1cIm9uZVwiPntjaGFyT2JqZWN0W3hbMF1dWzFdfTwvbGFiZWw+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXG4gICAgICAgICAgICAgICAgbmFtZT17eFswXX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17YDEtJHt4WzFdLmlkfWB9XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgZ3JpZFJvdzogJzEvMicgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZ3JpZCcsIGdyaWRUZW1wbGF0ZVJvd3M6ICdhdXRvIGF1dG8nLCBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicgfX0+XG4gICAgICAgICAgICAgIDxsYWJlbCBzdHlsZT17eyBncmlkUm93OiAnMi8zJyB9fSBodG1sRm9yPVwidHdvXCI+e2NoYXJPYmplY3RbeFswXV1bMl19PC9sYWJlbD5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgdHlwZT1cInJhZGlvXCJcbiAgICAgICAgICAgICAgICBuYW1lPXt4WzBdfVxuICAgICAgICAgICAgICAgIHZhbHVlPXtgMi0ke3hbMV0uaWR9YH1cbiAgICAgICAgICAgICAgICBzdHlsZT17eyBncmlkUm93OiAnMS8yJyB9fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdncmlkJywgZ3JpZFRlbXBsYXRlUm93czogJ2F1dG8gYXV0bycsIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyB9fT5cbiAgICAgICAgICAgICAgPGxhYmVsIHN0eWxlPXt7IGdyaWRSb3c6ICcyLzMnIH19IGh0bWxGb3I9XCJ0aHJlZVwiPntjaGFyT2JqZWN0W3hbMF1dWzNdfTwvbGFiZWw+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXG4gICAgICAgICAgICAgICAgbmFtZT17eFswXX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17YDMtJHt4WzFdLmlkfWB9XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgZ3JpZFJvdzogJzEvMicgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZ3JpZCcsIGdyaWRUZW1wbGF0ZVJvd3M6ICdhdXRvIGF1dG8nLCBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicgfX0+XG4gICAgICAgICAgICAgIDxsYWJlbCBzdHlsZT17eyBncmlkUm93OiAnMi8zJyB9fSBodG1sRm9yPVwiZm91clwiPntjaGFyT2JqZWN0W3hbMF1dWzRdfTwvbGFiZWw+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXG4gICAgICAgICAgICAgICAgbmFtZT17eFswXX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17YDQtJHt4WzFdLmlkfWB9XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgZ3JpZFJvdzogJzEvMicgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZ3JpZCcsIGdyaWRUZW1wbGF0ZVJvd3M6ICdhdXRvIGF1dG8nLCBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicgfX0+XG4gICAgICAgICAgICAgIDxsYWJlbCBzdHlsZT17eyBncmlkUm93OiAnMi8zJyB9fSBodG1sRm9yPVwiZml2ZVwiPntjaGFyT2JqZWN0W3hbMF1dWzVdfTwvbGFiZWw+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXG4gICAgICAgICAgICAgICAgbmFtZT17eFswXX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17YDUtJHt4WzFdLmlkfWB9XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgZ3JpZFJvdzogJzEvMicgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICkpXG4gICAgICA6IG51bGxcbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IENoYXJhY3RlcmlzdGljcztcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBzdHlsZXMgZnJvbSAnLi4vLi4vc3R5bGVDb21wb25lbnRzL1Jldmlld3MubW9kdWxlLmNzcyc7XG5cbmNvbnN0IEludGVyYWN0aXZlU3RhcnMgPSAoeyByZXZpZXcsIHNldFJldmlldyB9KSA9PiB7XG4gIGNvbnN0IFtyYXRpbmcsIHNldFJhdGluZ10gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgW2hvdmVyLCBzZXRIb3Zlcl0gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgW3ZhbHVlLCBzZXRWYWx1ZV0gPSB1c2VTdGF0ZSgnJyk7XG5cbiAgY29uc3QgZGVzY3JpcHRpb25PYmogPSB7XG4gICAgMTogJ1Bvb3InLFxuICAgIDI6ICdGYWlyJyxcbiAgICAzOiAnQXZlcmFnZScsXG4gICAgNDogJ0dvb2QnLFxuICAgIDU6ICdHcmVhdCcsXG4gIH07XG5cbiAgY29uc3QgaGFuZGxlVmFsdWUgPSAoaW5kZXgpID0+IHtcbiAgICBzZXRWYWx1ZShkZXNjcmlwdGlvbk9ialtpbmRleF0pO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiByZXF1aXJlZD1cInJlcXVpcmVkXCI+XG4gICAgICB7Wy4uLkFycmF5KDUpXS5tYXAoKHN0YXIsIGluZGV4KSA9PiB7XG4gICAgICAgIGluZGV4ICs9IDE7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICBrZXk9e2luZGV4fVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtpbmRleCA8PSAoaG92ZXIgfHwgcmF0aW5nKSA/IHN0eWxlcy5vbiA6IHN0eWxlcy5vZmZ9ICR7c3R5bGVzLmJ1dHRvbn1gfVxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICBzZXRSYXRpbmcoaW5kZXgpO1xuICAgICAgICAgICAgICBoYW5kbGVWYWx1ZShpbmRleCk7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgb25Nb3VzZUVudGVyPXsoKSA9PiB7XG4gICAgICAgICAgICAgIHNldFJhdGluZyhyYXRpbmcpO1xuICAgICAgICAgICAgICBzZXRSZXZpZXcoeyAuLi5yZXZpZXcsIHJhdGluZzogaW5kZXggfSk7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXsoKSA9PiBzZXRIb3ZlcihyYXRpbmcpfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuPuKYhTwvc3Bhbj5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgKTtcbiAgICAgIH0pfVxuICAgICAgPHAgc3R5bGU9e3sgbWFyZ2luOiAnNXB4JywgZm9udFNpemU6ICcxMnB4JywgZm9udFN0eWxlOiAnaXRhbGljJyB9fT57dmFsdWV9PC9wPlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgSW50ZXJhY3RpdmVTdGFycztcbiIsImltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSc3R5bGVzIGZyb20gJy4uLy4uL3N0eWxlQ29tcG9uZW50cy9SZXZpZXdzLm1vZHVsZS5jc3MnO1xuaW1wb3J0IHN0eWxlcyBmcm9tICcuLi8uLi9zdHlsZUNvbXBvbmVudHMvQXBwLm1vZHVsZS5jc3MnO1xuaW1wb3J0IENoYXJhY3RlcmlzdGljcyBmcm9tICcuL0NoYXJhY3RlcmlzdGljcyc7XG5pbXBvcnQgSW50ZXJhY3RpdmVTdGFycyBmcm9tICcuL0ludGVyYWN0aXZlU3RhcnMnO1xuXG5jb25zdCBSZXZpZXdzTW9kYWwgPSAoe1xuICBwcm9kdWN0SWQsIG9uQ2xvc2UsIG9wZW4sIGdldFJldmlld3MsIG5hbWUsIG1ldGFSZXZpZXdzLCBjaGFyT2JqZWN0XG59KSA9PiB7XG4gIGNvbnN0IFtyZXZpZXcsIHNldFJldmlld10gPSB1c2VTdGF0ZSh7XG4gICAgcHJvZHVjdF9pZDogcHJvZHVjdElkLFxuICAgIHJhdGluZzogMCxcbiAgICBzdW1tYXJ5OiAnJyxcbiAgICBib2R5OiAnJyxcbiAgICByZWNvbW1lbmQ6ICcnLFxuICAgIG5hbWU6ICcnLFxuICAgIGVtYWlsOiAnJyxcbiAgICBwaG90b3M6IFtdLFxuICAgIGNoYXJhY3RlcmlzdGljczoge30sXG4gIH0pO1xuICBjb25zdCBbdGh1bWJuYWlscywgc2V0VGh1bWJuYWlsc10gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbY2hhcmFjdGVyQ291bnQsIHNldENoYXJhY3RlckNvdW50XSA9IHVzZVN0YXRlKDUwKTtcblxuICBjb25zdCB2YWxpZEVtYWlsUmVnZXggPSBSZWdFeHAoXG4gICAgL14oKFtePD4oKVxcW1xcXVxcLiw7Olxcc0BcXFwiXSsoXFwuW148PigpXFxbXFxdXFwuLDs6XFxzQFxcXCJdKykqKXwoXFxcIi4rXFxcIikpQCgoW148PigpW1xcXVxcLiw7Olxcc0BcXFwiXStcXC4pK1tePD4oKVtcXF1cXC4sOzpcXHNAXFxcIl17Mix9KSQvaVxuICApO1xuXG4gIGNvbnN0IHRvQmFzZTY0ID0gKGZpbGUpID0+IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xuICAgIHJlYWRlci5vbmxvYWQgPSAoKSA9PiByZXNvbHZlKHJlYWRlci5yZXN1bHQpO1xuICAgIHJlYWRlci5vbmVycm9yID0gKGVycm9yKSA9PiByZWplY3QoZXJyb3IpO1xuICB9KTtcblxuICBjb25zdCBoYW5kbGVTdWJtaXQgPSAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBmaW5hbFJldmlldyA9IHsgLi4ucmV2aWV3IH07XG4gICAgY29uc3QgcHJvbWlzZXMgPSBbXTtcbiAgICBjb25zb2xlLmxvZyhmaW5hbFJldmlldylcbiAgICBpZiAoIXZhbGlkRW1haWxSZWdleC50ZXN0KGZpbmFsUmV2aWV3LmVtYWlsKSkge1xuICAgICAgc2V0RXJyb3IoJypZb3UgbXVzdCBlbnRlciBhIHZhbGlkIGVtYWlsJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZmluYWxSZXZpZXcucGhvdG9zLm1hcCgocGhvdG8pID0+IHtcbiAgICAgIGlmIChwaG90by5zaXplID4gMTAwMDAwKSB7XG4gICAgICAgIHNldEVycm9yKCcqVGhlIGltYWdlcyBzZWxlY3RlZCBhcmUgaW52YWxpZCBvciB1bmFibGUgdG8gYmUgdXBsb2FkZWQuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgIG5hbWU6IHBob3RvLm5hbWUsXG4gICAgICAgIGRhdGE6ICcnLFxuICAgICAgfTtcbiAgICAgIGNvbnN0IHByb21pc2UgPSB0b0Jhc2U2NChwaG90bylcbiAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4gcGF5bG9hZC5kYXRhID0gcmVzdWx0LnNwbGl0KCcsJylbMV0pXG4gICAgICAgIC50aGVuKCgpID0+IGF4aW9zLnBvc3QoJy91cGxvYWRfaW1hZ2VzJywgcGF5bG9hZCkpXG4gICAgICAgIC50aGVuKCh7IGRhdGEgfSkgPT4gZGF0YSlcbiAgICAgICAgLmNhdGNoKGNvbnNvbGUubG9nKTtcbiAgICAgIHByb21pc2VzLnB1c2gocHJvbWlzZSk7XG4gICAgICBQcm9taXNlLmFsbChwcm9taXNlcylcbiAgICAgICAgLnRoZW4oKHJlc3VsdHMpID0+IHtcbiAgICAgICAgICBmaW5hbFJldmlldy5waG90b3MgPSByZXN1bHRzO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbigoKSA9PiBheGlvcy5wb3N0KCcvcmV2aWV3cycsIGZpbmFsUmV2aWV3KSlcbiAgICAgICAgLnRoZW4oKCkgPT4gZ2V0UmV2aWV3cyhwcm9kdWN0SWQpKVxuICAgICAgICAudGhlbigoKSA9PiBvbkNsb3NlKCkpXG4gICAgICAgIC5jYXRjaChjb25zb2xlLmxvZyk7XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQ291bnRDaGFuZ2UgPSAoZSkgPT4ge1xuICAgIGNvbnN0IHsgdmFsdWUgfSA9IGUudGFyZ2V0O1xuICAgIHNldENoYXJhY3RlckNvdW50KDUwIC0gdmFsdWUubGVuZ3RoKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVDaGFuZ2UgPSAoZSkgPT4ge1xuICAgIGlmIChyZXZpZXcucGhvdG9zLmxlbmd0aCA8IDUpIHtcbiAgICAgIHNldFJldmlldyh7XG4gICAgICAgIC4uLnJldmlldyxcbiAgICAgICAgcGhvdG9zOiBbLi4ucmV2aWV3LnBob3RvcywgZS50YXJnZXQuZmlsZXNbMF1dLFxuICAgICAgfSk7XG4gICAgICBzZXRUaHVtYm5haWxzKFtcbiAgICAgICAgLi4udGh1bWJuYWlscyxcbiAgICAgICAgVVJMLmNyZWF0ZU9iamVjdFVSTChlLnRhcmdldC5maWxlc1swXSksXG4gICAgICBdKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gY29uc3QgY2xlYXJGb3JtID0gKCkgPT4ge1xuICAvLyAgIHNldFJldmlldyhzdGF0ZSk7XG4gIC8vIH07XG5cbiAgcmV0dXJuIChcbiAgICAobWV0YVJldmlld3MgJiYgcmV2aWV3ICYmIHJldmlldy5waG90b3MpXG4gICAgICA/IChcbiAgICAgICAgPD5cbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17eyBtYXhIZWlnaHQ6ICcxMDAlJyB9fVxuICAgICAgICAgICAgcm9sZT1cInByZXNlbnRhdGlvblwiXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgIG9uQ2xvc2UoKTtcbiAgICAgICAgICAgICAgY2xlYXJGb3JtKCk7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtvcGVuID8gc3R5bGVzLm92ZXJsYXkgOiAnJ31cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgIHRyYW5zZm9ybTogb3BlbiA/ICd0cmFuc2xhdGUoLTUwJSwgLTUwJSknIDogJ3RyYW5zbGF0ZSgtNTAlLCAtMTUwdmgpJyxcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5tb2RhbH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLm1vZGFsSGVhZGVyfT5cbiAgICAgICAgICAgICAgPGgzPldyaXRlIFlvdXIgUmV2aWV3PC9oMz5cbiAgICAgICAgICAgICAgPGg0PlxuICAgICAgICAgICAgICAgIEFib3V0IHRoZSB7bmFtZX1cbiAgICAgICAgICAgICAgICAuLi5cbiAgICAgICAgICAgICAgPC9oND5cbiAgICAgICAgICAgICAgPHBcbiAgICAgICAgICAgICAgICByb2xlPVwicHJlc2VudGF0aW9uXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5jbG9zZU1vZGFsfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIG9uQ2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgIC8vIGNsZWFyRm9ybSgpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB4XG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5tb2RhbEJvZHl9PlxuICAgICAgICAgICAgICA8Zm9ybVxuICAgICAgICAgICAgICAgIG9uU3VibWl0PXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgaGFuZGxlU3VibWl0KGUpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgYWN0aW9uPVwiXCJcbiAgICAgICAgICAgICAgICBlbmNUeXBlPVwibXVsdGlwYXJ0L2Zvcm0tZGF0YVwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6ICcxNHB4JyB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPHAgc3R5bGU9e3sgbWFyZ2luOiAnNXB4JyB9fT5PdmVyYWxsIFJhdGluZzogKjwvcD5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e1JzdHlsZXMuc3RhclJhdGluZ30+XG4gICAgICAgICAgICAgICAgICA8SW50ZXJhY3RpdmVTdGFycyByZXZpZXc9e3Jldmlld30gc2V0UmV2aWV3PXtzZXRSZXZpZXd9IC8+XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDxwPldvdWxkIHlvdSByZWNvbW1lbmQgdGhpcyBwcm9kdWN0PyAqPC9wPlxuICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCIgaWQ9XCJZZXNcIiBuYW1lPVwicmVjb21tZW5kXCIgb25DbGljaz17KCkgPT4gc2V0UmV2aWV3KHsgLi4ucmV2aWV3LCByZWNvbW1lbmQ6IHRydWUgfSl9IC8+XG4gICAgICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cIlllc1wiPlllczwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCIgaWQ9XCJOb1wiIG5hbWU9XCJyZWNvbW1lbmRcIiBvbkNsaWNrPXsoKSA9PiBzZXRSZXZpZXcoeyAuLi5yZXZpZXcsIHJlY29tbWVuZDogZmFsc2UgfSl9IC8+XG4gICAgICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cIk5vXCI+Tm88L2xhYmVsPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxDaGFyYWN0ZXJpc3RpY3NcbiAgICAgICAgICAgICAgICAgIGNoYXJhY3RlcmlzdGljcz17bWV0YVJldmlld3MuY2hhcmFjdGVyaXN0aWNzfVxuICAgICAgICAgICAgICAgICAgY2hhck9iamVjdD17Y2hhck9iamVjdH1cbiAgICAgICAgICAgICAgICAgIHNldFJldmlldz17c2V0UmV2aWV3fVxuICAgICAgICAgICAgICAgICAgcmV2aWV3PXtyZXZpZXd9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8cD5SZXZpZXcgVGl0bGU6PC9wPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRSZXZpZXcoeyAuLi5yZXZpZXcsIHN1bW1hcnk6IGUudGFyZ2V0LnZhbHVlIH0pfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtSc3R5bGVzLm1vZGFsSW5wdXR9XG4gICAgICAgICAgICAgICAgICBtYXhMZW5ndGg9XCI2MFwiXG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkV4YW1wbGU6IEJlc3QgcHVyY2hhc2UgZXZlciFcIlxuICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPHA+UmV2aWV3IEJvZHk6ICo8L3A+XG4gICAgICAgICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICAgICAgICByZXF1aXJlZD1cInJlcXVpcmVkXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRSZXZpZXcoeyAuLi5yZXZpZXcsIGJvZHk6IGUudGFyZ2V0LnZhbHVlIH0pO1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVDb3VudENoYW5nZShlKTtcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBtaW5MZW5ndGg9XCI1MFwiXG4gICAgICAgICAgICAgICAgICBtYXhMZW5ndGg9XCIxMDAwXCJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLnFJbnB1dH1cbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiV2h5IGRpZCB5b3UgbGlrZSB0aGUgcHJvZHVjdCBvciBub3Q/XCJcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxwXG4gICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW46ICc1cHgnLCBmb250U2l6ZTogJzEycHgnLCBmb250U3R5bGU6ICdpdGFsaWMnIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge2NoYXJhY3RlckNvdW50IDw9IDAgPyAnTWluaW11bSBDaGFyYWN0ZXJzIFJlYWNoZWQnIDogYE1pbmltdW0gcmVxdWlyZWQgY2hhcmFjdGVycyBsZWZ0OiAke2NoYXJhY3RlckNvdW50fWB9XG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDxwPldoYXQgaXMgeW91ciBuaWNrbmFtZT8gKjwvcD5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIHJlcXVpcmVkPVwicmVxdWlyZWRcIlxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRSZXZpZXcoeyAuLi5yZXZpZXcsIG5hbWU6IGUudGFyZ2V0LnZhbHVlIH0pfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtSc3R5bGVzLm1vZGFsSW5wdXR9XG4gICAgICAgICAgICAgICAgICBtYXhMZW5ndGg9XCI2MFwiXG4gICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkV4YW1wbGU6IGphY2tzb24xMSFcIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPXtzdHlsZXMuZmluZVByaW50fT57cmV2aWV3Lm5hbWUubGVuZ3RoID4gMCA/ICdGb3IgcHJpdmFjeSByZWFzb25zLCBkbyBub3QgdXNlIHlvdXIgZnVsbCBuYW1lIG9yIGVtYWlsIGFkZHJlc3MnIDogJyd9PC9wPlxuICAgICAgICAgICAgICAgIDxwPldoYXQgaXMgeW91ciBlbWFpbD8gKjwvcD5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIHJlcXVpcmVkPVwicmVxdWlyZWRcIlxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRSZXZpZXcoeyAuLi5yZXZpZXcsIGVtYWlsOiBlLnRhcmdldC52YWx1ZSB9KX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17UnN0eWxlcy5tb2RhbElucHV0fVxuICAgICAgICAgICAgICAgICAgbWF4TGVuZ3RoPVwiNjBcIlxuICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFeGFtcGxlOiBqYWNrc29uMTFAZW1haWwuY29tXCJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT17c3R5bGVzLmZpbmVQcmludH0+e3Jldmlldy5lbWFpbC5sZW5ndGggPiAwID8gJ0ZvciBhdXRoZW50aWNhdGlvbiByZWFzb25zLCB5b3Ugd2lsbCBub3QgYmUgZW1haWxlZCcgOiAnJ308L3A+XG4gICAgICAgICAgICAgICAgPGRpdiAvPlxuICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICB7cmV2aWV3LnBob3Rvcy5sZW5ndGggPCA1ID8gPGlucHV0IHZhbHVlPVwiXCIgb25DaGFuZ2U9e2hhbmRsZUNoYW5nZX0gdHlwZT1cImZpbGVcIiAvPiA6IG51bGx9XG4gICAgICAgICAgICAgICAgICB7dGh1bWJuYWlscy5tYXAoKHBob3RvKSA9PiA8aW1nIGFsdD17cGhvdG99IGtleT17cGhvdG99IGNsYXNzTmFtZT17YCR7UnN0eWxlcy5pbWdUaHVtYm5haWx9ICR7UnN0eWxlcy5yZXZpZXdQaG90b31gfSBzcmM9e3Bob3RvfSAvPil9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPHAgc3R5bGU9e3sgbWFyZ2luOiAnNXB4JywgZm9udFNpemU6ICcxMnB4JywgZm9udFN0eWxlOiAnaXRhbGljJyB9fT4qIE1hbmRhdG9yeSBGaWVsZHM8L3A+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgdHlwZT1cInN1Ym1pdFwiXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5tb2RhbEJ1dHRvbn1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICBTdWJtaXQgUmV2aWV3XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8Lz5cbiAgICAgIClcbiAgICAgIDogbnVsbFxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgUmV2aWV3c01vZGFsO1xuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuaW1wb3J0IFJhdGluZ0JyZWFrZG93biBmcm9tICcuL1JhdGluZ0JyZWFrZG93bic7XG5pbXBvcnQgUmV2aWV3VGVtcGxhdGUgZnJvbSAnLi9SZXZpZXdUZW1wbGF0ZSc7XG5pbXBvcnQgc3R5bGVzIGZyb20gJy4uLy4uL3N0eWxlQ29tcG9uZW50cy9SZXZpZXdzLm1vZHVsZS5jc3MnO1xuaW1wb3J0IFJldmlld3NNb2RhbCBmcm9tICcuL1Jldmlld01vZGFsJztcbmltcG9ydCBTdGFyUmF0aW5nIGZyb20gJy4uL1N0YXJSYXRpbmcnO1xuXG5jb25zdCBSZXZpZXdzID0gKHsgcHJvZHVjdElkLCBuYW1lLCBoYW5kbGVSZXZpZXdBdmVyYWdlIH0pID0+IHtcbiAgY29uc3QgW3Jldmlld3MsIHNldFJldmlld3NdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZGlzcGxheWVkUmV2aWV3cywgc2V0RGlzcGxheWVkUmV2aWV3c10gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFttZXRhUmV2aWV3cywgc2V0TWV0YVJldmlld3NdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbaXNPcGVuLCBzZXRJc09wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZXhwYW5kZWQsIHNldEV4cGFuZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3NvcnQsIHNldFNvcnRdID0gdXNlU3RhdGUoJ3JlbGV2YW50Jyk7XG4gIGNvbnN0IFttb3JlQnV0dG9uLCBzZXRNb3JlQnV0dG9uXSA9IHVzZVN0YXRlKCdNb3JlIFJldmlld3MnKTtcblxuICBjb25zdCBjaGFyT2JqZWN0ID0ge1xuICAgIFNpemU6IHtcbiAgICAgIDE6IFwiQSBzaXplIHRvbyBzbWFsbFwiLFxuICAgICAgMjogXCIxLzIgYSBzaXplIHRvbyBzbWFsbFwiLFxuICAgICAgMzogXCJQZXJmZWN0XCIsXG4gICAgICA0OiBcIjEvMiBhIHNpemUgdG9vIGJpZ1wiLFxuICAgICAgNTogXCJBIHNpemUgdG9vIHdpZGVcIixcbiAgICB9LFxuICAgIFdpZHRoOiB7XG4gICAgICAxOiBcIlRvbyBuYXJyb3dcIixcbiAgICAgIDI6IFwiU2xpZ2h0bHkgbmFycm93XCIsXG4gICAgICAzOiBcIlBlcmZlY3RcIixcbiAgICAgIDQ6IFwiU2xpZ2h0bHkgd2lkZVwiLFxuICAgICAgNTogXCJUb28gd2lkZVwiLFxuICAgIH0sXG4gICAgQ29tZm9ydDoge1xuICAgICAgMTogXCJVbmNvbWZvcnRhYmxlXCIsXG4gICAgICAyOiBcIlNsaWdodGx5IHVuY29tZm9ydGFibGVcIixcbiAgICAgIDM6IFwiT2tcIixcbiAgICAgIDQ6IFwiQ29tZm9ydGFibGVcIixcbiAgICAgIDU6IFwiUGVyZmVjdFwiXG4gICAgfSxcbiAgICBRdWFsaXR5OiB7XG4gICAgICAxOiBcIlBvb3JcIixcbiAgICAgIDI6IFwiQmVsb3cgYXZlcmFnZVwiLFxuICAgICAgMzogXCJXaGF0IEkgZXhwZWN0ZWRcIixcbiAgICAgIDQ6IFwiUHJldHR5IGdyZWF0XCIsXG4gICAgICA1OiBcIlBlcmZlY3RcIixcbiAgICB9LFxuICAgIExlbmd0aDoge1xuICAgICAgMTogXCJSdW5zIHNob3J0XCIsXG4gICAgICAyOiBcIlJ1bnMgc2xpZ2h0bHkgc2hvcnRcIixcbiAgICAgIDM6IFwiUGVyZmVjdFwiLFxuICAgICAgNDogXCJSdW5zIHNsaWdodGx5IGxvbmdcIixcbiAgICAgIDU6IFwiUnVucyBsb25nXCIsXG4gICAgfSxcbiAgICBGaXQ6IHtcbiAgICAgIDE6IFwiUnVucyB0aWdodFwiLFxuICAgICAgMjogXCJSdW5zIHNsaWdodGx5IHRpZ2h0XCIsXG4gICAgICAzOiBcIlBlcmZlY3RcIixcbiAgICAgIDQ6IFwiUnVucyBzbGlnaHRseSBsb25nXCIsXG4gICAgICA1OiBcIlJ1bnMgbG9uZ1wiLFxuICAgIH0sXG4gIH07XG5cbiAgY29uc3QgZ2V0UmV2aWV3cyA9IChpZCkgPT4ge1xuICAgIGNvbnN0IHJldmlld3NVUkwgPSBgL3Jldmlld3Mvc29ydC8ke2lkfS8ke3NvcnR9YDtcbiAgICBheGlvcy5nZXQocmV2aWV3c1VSTClcbiAgICAgIC50aGVuKCh7IGRhdGEgfSkgPT4ge1xuICAgICAgICBzZXRSZXZpZXdzKGRhdGEpO1xuICAgICAgICBpZiAoZXhwYW5kZWQpIHtcbiAgICAgICAgICBzZXREaXNwbGF5ZWRSZXZpZXdzKGRhdGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNldERpc3BsYXllZFJldmlld3MoZGF0YS5zbGljZSgwLCAyKSk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuY2F0Y2goY29uc29sZS5sb2cpO1xuICB9O1xuXG4gIGNvbnN0IGdldE1ldGFSZXZpZXdzID0gKGlkKSA9PiB7XG4gICAgY29uc3QgbWV0YVJldmlld3NVUkwgPSBgL3Jldmlld3MvbWV0YS8ke2lkfWA7XG4gICAgYXhpb3MuZ2V0KG1ldGFSZXZpZXdzVVJMKVxuICAgICAgLnRoZW4oKHsgZGF0YSB9KSA9PiB7XG4gICAgICAgIHNldE1ldGFSZXZpZXdzKGRhdGEpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcbiAgfTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGdldFJldmlld3MoMjAxMDMpO1xuICAgIHNldEV4cGFuZGVkKGV4cGFuZGVkKTtcbiAgfSwgW3NvcnRdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGdldE1ldGFSZXZpZXdzKDIwMTAzKTtcbiAgICBnZXRSZXZpZXdzKDIwMTAzKTtcbiAgfSwgW3Byb2R1Y3RJZF0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgKGV4cGFuZGVkKVxuICAgID8gc2V0RGlzcGxheWVkUmV2aWV3cyhyZXZpZXdzKVxuICAgIDogc2V0RGlzcGxheWVkUmV2aWV3cyhyZXZpZXdzLnNsaWNlKDAsIDIpKVxuICB9LCBbZXhwYW5kZWRdKTtcblxuICBjb25zdCBoYW5kbGVTdGFyRmlsdGVycyA9IChmaWx0ZXJzKSA9PiB7XG4gICAgY29uc3QgcmV2aWV3QXJyYXkgPSBbXTtcbiAgICBpZiAoZmlsdGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgIHNldERpc3BsYXllZFJldmlld3MocmV2aWV3cy5zbGljZSgwLCAyKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZpbHRlcnMubWFwKChmaWx0ZXIpID0+IHtcbiAgICAgICAgcmV2aWV3cy5maWx0ZXIoKHJldmlldykgPT4ge1xuICAgICAgICAgIGlmIChyZXZpZXcucmF0aW5nID09PSBOdW1iZXIoZmlsdGVyKSkgcmV2aWV3QXJyYXkucHVzaChyZXZpZXcpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgc2V0RGlzcGxheWVkUmV2aWV3cyhyZXZpZXdBcnJheSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZU1vcmVCdXR0b24gPSAoKSA9PiB7XG4gICAgKGRpc3BsYXllZFJldmlld3MubGVuZ3RoIDw9IDIpXG4gICAgICA/IHNldE1vcmVCdXR0b24oJ01vcmUgUmV2aWV3cycpXG4gICAgICA6IHNldE1vcmVCdXR0b24oJ1Nob3cgTGVzcyBSZXZpZXdzJyk7XG4gIH07XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBoYW5kbGVNb3JlQnV0dG9uKCk7XG4gIH0sIFtkaXNwbGF5ZWRSZXZpZXdzXSk7XG5cbiAgcmV0dXJuIChcbiAgICAobWV0YVJldmlld3MgJiYgcmV2aWV3cyAmJiBwcm9kdWN0SWQpXG4gICAgICA/IChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5wYXJlbnRDb250YWluZXJ9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMucGFyZW50QnJlYWtkb3dufT5cbiAgICAgICAgICAgIDxSYXRpbmdCcmVha2Rvd25cbiAgICAgICAgICAgICAgcmV2aWV3cz17cmV2aWV3c31cbiAgICAgICAgICAgICAgbWV0YVJldmlld3M9e21ldGFSZXZpZXdzfVxuICAgICAgICAgICAgICBoYW5kbGVTdGFyRmlsdGVycz17aGFuZGxlU3RhckZpbHRlcnN9XG4gICAgICAgICAgICAgIGhhbmRsZVJldmlld0F2ZXJhZ2U9e2hhbmRsZVJldmlld0F2ZXJhZ2V9XG4gICAgICAgICAgICAgIGNoYXJPYmplY3Q9e2NoYXJPYmplY3R9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMucGFyZW50SGVhZGVyfSBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcgfX0+XG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGFsaWduU2VsZjogJ2NlbnRlcicsIHBhZGRpbmdMZWZ0OiAnMjBweCcgfX0+XG4gICAgICAgICAgICAgIFNvcnQgb246XG4gICAgICAgICAgICAgIDxzZWxlY3Qgb25DaGFuZ2U9eyhlKSA9PiBzZXRTb3J0KGUudGFyZ2V0LnZhbHVlKX0+XG4gICAgICAgICAgICAgICAgPG9wdGlvbj5SZWxldmFudDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgIDxvcHRpb24+SGVscGZ1bDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgIDxvcHRpb24+TmV3ZXN0PC9vcHRpb24+XG4gICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBzdHlsZT17eyBtYXhIZWlnaHQ6ICc4MDBweCcsIG92ZXJmbG93WTogJ3Njcm9sbCcgfX0gY2xhc3NOYW1lPXtzdHlsZXMucGFyZW50SW5kaXZpZHVhbFJldmlld30+XG4gICAgICAgICAgICB7ZGlzcGxheWVkUmV2aWV3cy5tYXAoKHJldmlldywgaWQpID0+IChcbiAgICAgICAgICAgICAgPFJldmlld1RlbXBsYXRlIHJldmlldz17cmV2aWV3fSBrZXk9e2lkfSAvPlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5wYXJlbnRGb290ZXJ9PlxuICAgICAgICAgICAge3Jldmlld3MubGVuZ3RoID4gMVxuICAgICAgICAgICAgICA/IChcbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5mb290ZXJCdXR0b259XG4gICAgICAgICAgICAgICAgICB0eXBlPVwic3VibWl0XCJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0RXhwYW5kZWQoIWV4cGFuZGVkKTtcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge21vcmVCdXR0b259XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgOiBudWxsfVxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9e3N0eWxlcy5mb290ZXJCdXR0b259IHR5cGU9XCJzdWJtaXRcIiBvbkNsaWNrPXsoKSA9PiBzZXRJc09wZW4odHJ1ZSl9PkFkZCBSZXZpZXcgICsgPC9idXR0b24+XG4gICAgICAgICAgICA8UmV2aWV3c01vZGFsXG4gICAgICAgICAgICAgIHByb2R1Y3RJZD17cHJvZHVjdElkfVxuICAgICAgICAgICAgICBnZXRSZXZpZXdzPXtnZXRSZXZpZXdzfVxuICAgICAgICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRJc09wZW4oZmFsc2UpfVxuICAgICAgICAgICAgICBvcGVuPXtpc09wZW59XG4gICAgICAgICAgICAgIG5hbWU9e25hbWV9XG4gICAgICAgICAgICAgIG1ldGFSZXZpZXdzPXttZXRhUmV2aWV3c31cbiAgICAgICAgICAgICAgY2hhck9iamVjdD17Y2hhck9iamVjdH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKVxuICAgICAgOiBudWxsXG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBSZXZpZXdzO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==